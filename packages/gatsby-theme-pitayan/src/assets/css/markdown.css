.markdown {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  blockquote,
  p,
  ul,
  ol {
    @apply mark-w-sm;
    @apply lg:mark-w-md;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply pt-6;
    @apply mt-6;
    @apply mb-6;

    /* Display heading anchor */
    &:hover {
      a.heading-anchor {
        @apply opacity-100;
      }
    }
  }

  a {
    &.heading-anchor {
      @apply -ml-6 pr-1;
      @apply opacity-0;
      @apply transition duration-75;

      span {
        @apply text-blue-600;
      }
    }


    &:active,
    &:focus,
    &:hover {
      @apply outline-none;
    }

    &:focus {
      @apply ring-2 ring-indigo-300 ring-offset-1;
    }

    &[disabled],
    &:disabled,
    &.disabled {
      @apply cursor-default;
      @apply pointer-events-none;
      @apply text-gray-400;
    }
  }

  pre {
    @apply mb-8;
    @apply mark-w-md;
    @apply lg:mark-w-lg;

    @apply bg-gray-50;
    @apply border border-solid border-gray-100;
  }

  code {
    /* This relates to plugin gatsby-remark-vscode. We filter out these ones controlled by that plugin */
    &:not([class*="grvsc-"]) {
      @apply text-gray-800;
      @apply bg-gray-100;
      @apply border border-solid border-gray-100;

      /* Dark Mode */
      @apply dark:bg-gray-800;
      @apply dark:text-gray-400;
      @apply dark:border-none;
    }

    /* This relates to plugin gatsby-remark-vscode. The inline code tag will have a class name of "grvsc-inline" */
    &.grvsc-inline {
      @apply bg-gray-100;

      /* Dark Mode */
      @apply dark:bg-gray-800;
    }
  }

  blockquote {
    @apply mb-10;

    p {
      @apply mb-0;
    }
  }

  p {
    @apply leading-8;
    @apply mb-10;
  }

  hr {
    @apply border-t border-solid border-gray-300;
    @apply my-8 mx-auto;
    @apply relative;
    @apply overflow-visible;
    @apply w-1 h-1;
    @apply bg-gray-800;
    @apply rounded-full;
    @apply border-none;
    @apply my-16;

    /* Dark Mode*/
    @apply dark:!bg-inverted;

    &:before,
    &:after {
      @apply dark:!bg-inverted;
    }

    &:before {
      @apply absolute;
      @apply w-1 h-1;
      @apply bg-gray-800;
      @apply -left-6;
      @apply rounded-full;

      content: "";
    }

    &:after {
      @apply absolute;
      @apply w-1 h-1;
      @apply bg-gray-800;
      @apply -right-6;
      @apply rounded-full;

      content: "";
    }
  }


  ul,
  ol {
    @apply mb-12;
  }
}

/* FIXME: dark mode style overriding not work */
.dark {
  .markdown {
    hr {
      @apply !bg-inverted;
    }

    a.heading-anchor span {
      @apply !text-blue-400;
    }

    pre {
      @apply !border-none;
      @apply !bg-gray-800;
    }
  }
}

